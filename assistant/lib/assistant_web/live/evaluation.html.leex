<div class="both">
  <div class="inner width">
    <div class="lhs">
      <div class="list">
        <%= for {{{raw, item}, {first_author, num_results, results}}, idx} <- Enum.with_index(elem(@list, 1)) do %>

          <div class="phx-hero card <%= if idx == @selected_item do 'selected' end %>"
            phx-click="select" phx-target="<%= @myself %>" phx-value-idx="<%= idx %>">
            <h3>Original</h3>
            <%= raw %>
            <br>
            <br>

            <%= if elem(@list, 0) == :anystyle do %>
              <h3>Anystyle Result</h3>
              <br>
              <div style="text-align: left">
                <%= for {k,v} <- item do %>
                  <div><b><%= k %></b>: <%= inspect v %></div>
                <% end %>
              </div>
            <% end %>

            <%= if elem(@list, 0) == :grobid do %>
              <h3>Grobid Result</h3>
              <br>
              <div style="text-align: left">
                <%= for {k,v} <- item do %>
                  <div><b><%= k %></b>: <%= inspect v %></div>
                <% end %>
              </div>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>

    <div class="rhs">
      <div class="list">
        <%= if @selected_item > -1 do %>
          <% {{raw, item}, {first_author, num_results, results}} = Enum.at(elem(@list, 1), @selected_item) %>

            <div>
              Number results of zenon search for first author '<%= first_author %>': <%= num_results %>
            </div>

            <%= for result <- Enum.take(results, 20) do %>

            <div class="phx-hero card">
              <%= if String.starts_with?(result, "00") do %>
                <a href="<%= 'https://zenon.dainst.org/Record/#{result}' %>"><%= result %></a>
              <% else %>
                <%= result %>
              <% end %>
            </div>

          <% end %>
        <% end %>
      </div>
    </div>
  </div>
</div>
