<div class="both">
  <div class="inner width">
    <div class="lhs">
      <div class="list">
        <%= for {{{raw, item}, {first_author, num_results, results}}, idx} <- Enum.with_index(@list) do %>

          <div class="phx-hero card <%= if idx == @selected_item do 'selected' end %>"
            phx-click="select" phx-target="<%= @myself %>" phx-value-idx="<%= idx %>">
            <%= raw %>
            <br>
            <br>

            Anystyle Result:
            <br>
            <%= for {k,v} <- item do %>

              <%= if k == "author" do %>

                <%= for author <- v do %>

                  <%= if author["family"] do %>
                    Author: <%= author["family"] %>
                  <% end %>

                <% end %>
              <% end %>

            <% end %>
          </div>
        <% end %>
      </div>
    </div>

    <div class="rhs">
      <div class="list">
        <%= if @selected_item > -1 do %>
          <% {{raw, item}, {first_author, num_results, results}} = Enum.at(@list, @selected_item) %>

            <div>
              Number results of zenon search for first author '<%= first_author %>': <%= num_results %>
            </div>

            <%= for result <- Enum.take(results, 20) do %>

            <div class="phx-hero card">
              <%= if String.starts_with?(result, "00") do %>
                <a href="<%= 'https://zenon.dainst.org/Record/#{result}' %>"><%= result %></a>
              <% else %>
                <%= result %>
              <% end %>
            </div>

          <% end %>
        <% end %>
      </div>
    </div>
  </div>
</div>
